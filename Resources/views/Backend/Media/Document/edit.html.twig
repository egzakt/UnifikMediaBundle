{% extends 'EgzaktMediaBundle:Backend/Media:layout.html.twig' %}
{% form_theme form 'EgzaktSystemBundle:Backend/Core:edit_fields.html.twig' %}

{% block content_hemediaer %}
    <h1>{{ media.i18nTitle|trans|raw }}</h1>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets
    '@EgzaktMediaBundle/Resources/public/backend/css/*'
    %}
    <link rel="stylesheet" type="text/css" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock %}

{% block content_main %}

    <form novalidate="novalidate" action="{{ path(media.route, media.routeParams) }}" method="post" {{ form_enctype(form) }}>

        {% include 'EgzaktMediaBundle:Backend/Media:edit_actions.html.twig' with {
            'entity': media,
            'delete_route': path(media.route('delete'), media.routeParams),
            'cancel_route': path(media.route('list')),
        } %}

        <div id="fields_box">
            <table class="fields" cellspacing="0">
                {{ form_errors(form) }}
                {{ form_row(form.name) }}
                {{ form_row(form.mediaFile) }}
                {% include 'EgzaktSystemBundle:Backend/Core:collapsable_fields.html.twig' with {
                    'link_name': 'Parameters',
                    'fields': [form_row(form.description), form_row(form.title)]
                } %}
                {{ form_rest(form) }}

                {% if media.id %}
                    <tr>
                        <th>
                            {% trans %}Last update {% endtrans %} :
                        </th>
                        <td style="vertical-align:bottom">
                            {{ media.updatedAt|date }}
                        </td>
                    </tr>
                {% endif %}
            </table>
        </div>

        {% include 'EgzaktMediaBundle:Backend/Media:edit_actions.html.twig' with {
        'entity': media,
        'delete_route': path(media.route('delete'), media.routeParams),
        'cancel_route': path(media.route('list')),
        } %}

    </form>
{% endblock content_main %}
